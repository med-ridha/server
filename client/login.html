<html>
    <head>
        <title> Dashboard </title>
    </head>
<style>
#signinform {
    margin: auto;
    width: 30%;
    border: 3px solid green;
    padding: 10px;
}
#lower{
    margin: auto;
    width: 80%;
    padding: 10px;
}

.input{
    width: 100%;
    padding: 14px;
    margin: 6px 0;
    border-radius: 4px;
    border: 1px solid #ced4da;
    background-color: #fff;
    box-sizing: border-box;
}

</style>
    <body>
        <div id="signinform">
            <div id="lower">
                <h1> Log in</h1>
                <form>
                    <input id="email" class="input" type="text" name="email" placeholder="email" value="" autofocus> <br>
                    <input id="password" class="input" type="password" name="password" placeholder="password"> <br>
                    <button onclick="return login(); return false">Log in</button>
                </form>
            </div>
        </div>
    </body>
    <script>
        function login(){
            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;
            let url = "http://localhost:1337/login"
            let data = {
                email: email,
                password: password
            }
            let options = {
                method: "POST",
                headers: {
                    "content-type": "application/json"
                },
                body: JSON.stringify(data)
            }
            fetch(url, options)
                        .then(result => result.json())
                        .then(result => {
                            if (result.result === "welcome" ){
                                window.location.href = "http://localhost:1337/dashboard"
                            }
                        })
                        .catch(error => console.log(error))
            return false;
        }
    </script>
</html>
