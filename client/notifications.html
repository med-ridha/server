<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <form method="POST">
            <label>title*</label>
            <input id="title" class="form-data" type="text" name="title" placeholder="enter title"><br>
            <label>Body*</label>
            <input id="body" type="text" class="form-data" name="body" placeholder="enter body"><br>
            <label>image</label>
            <input id="image" type="text" class="form-data" name="image" placeholder="enter image url"><br>
            <label>url</label>
            <input id="url" type="text" class="form-data" name="url" placeholder="enter url"><br>
            <button type="submit" onclick="send();return false">send</button>
            <button type="reset">cancel</button>
        </form>
    </body>
    <script>
        function send(){

        let data = {
                    "title" : document.getElementById("title").value,
                    "body" : document.getElementById("body").value,
                    "image" : document.getElementById("image").value,
                    "url" : document.getElementById("url").value
                }
                    console.log(typeof(data))
       let options = {
                   "method": "POST",
                   "headers": {
                               "content-type": "application/json"
                           },
                   "body": JSON.stringify(data)
               }
                    fetch("http://localhost:42069/notification/push", options).then(res => res.json()).then(res => console.log(res));
       // let form_element = document.getElementsByClassName('form-data');
       // let form_data = new FormData();
       // for (let count = 0; count < form_element.length; count++){
       //     form_data.append(form_element[count].name, form_element[count].value);
       // }
       // let ajax_request = new XMLHttpRequest();
       // ajax_request.open("POST", 'http://localhost:42069/push');
       // ajax_request.send(form_data);
       // ajax_request.onreadystatechange = function()
       // {
       //             if(ajax_request.readyState == 4 && ajax_request.status == 200)
       //             {
       //                         console.log(ajax_request.responseText);
       //                         let response = JSON.parse(ajax_request.responseText);
       //                         if (response.status == 'error')
       //                         {
       //                                     console.log("error");
       //                                 }else{
       //                                             console.log("else");
       //                                         }
       //                     }
       //         }
                    return false;
                }
    </script>
</html>
               
